2025-04-07T13:28:55.607-04:00  INFO 8187 --- [library-hexagonal] [restartedMain] c.library.LibraryHexagonalApplication    : Starting LibraryHexagonalApplication using Java 21.0.5 with PID 8187 (/Users/glopez/Documents/G/tp/library-hexagonal/target/classes started by glopez in /Users/glopez/Documents/G/tp/library-hexagonal)
2025-04-07T13:28:55.608-04:00 DEBUG 8187 --- [library-hexagonal] [restartedMain] c.library.LibraryHexagonalApplication    : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-07T13:28:55.609-04:00  INFO 8187 --- [library-hexagonal] [restartedMain] c.library.LibraryHexagonalApplication    : No active profile set, falling back to 1 default profile: "default"
2025-04-07T13:28:55.622-04:00  INFO 8187 --- [library-hexagonal] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-07T13:28:55.622-04:00  INFO 8187 --- [library-hexagonal] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-07T13:28:55.811-04:00  INFO 8187 --- [library-hexagonal] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-07T13:28:55.831-04:00  INFO 8187 --- [library-hexagonal] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 16 ms. Found 3 JPA repository interfaces.
2025-04-07T13:28:56.139-04:00  INFO 8187 --- [library-hexagonal] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-07T13:28:56.144-04:00  INFO 8187 --- [library-hexagonal] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-07T13:28:56.144-04:00  INFO 8187 --- [library-hexagonal] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-07T13:28:56.158-04:00  INFO 8187 --- [library-hexagonal] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-07T13:28:56.158-04:00  INFO 8187 --- [library-hexagonal] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 536 ms
2025-04-07T13:28:56.211-04:00  INFO 8187 --- [library-hexagonal] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-07T13:28:56.225-04:00  INFO 8187 --- [library-hexagonal] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-04-07T13:28:56.233-04:00  INFO 8187 --- [library-hexagonal] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-07T13:28:56.305-04:00  INFO 8187 --- [library-hexagonal] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-07T13:28:56.313-04:00  INFO 8187 --- [library-hexagonal] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-07T13:28:56.391-04:00  INFO 8187 --- [library-hexagonal] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:librarydb user=SA
2025-04-07T13:28:56.392-04:00  INFO 8187 --- [library-hexagonal] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-07T13:28:56.400-04:00  WARN 8187 --- [library-hexagonal] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-07T13:28:56.407-04:00  INFO 8187 --- [library-hexagonal] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.2.224
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-07T13:28:56.663-04:00  INFO 8187 --- [library-hexagonal] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-07T13:28:56.686-04:00 DEBUG 8187 --- [library-hexagonal] [restartedMain] org.hibernate.SQL                        : 
    create table books (
        isbn varchar(255) not null,
        author varchar(255),
        available_copies integer not null,
        title varchar(255),
        primary key (isbn)
    )
2025-04-07T13:28:56.689-04:00 DEBUG 8187 --- [library-hexagonal] [restartedMain] org.hibernate.SQL                        : 
    create table loans (
        id bigint generated by default as identity,
        book_isbn varchar(255),
        loan_date date,
        member_id varchar(255),
        return_date date,
        primary key (id)
    )
2025-04-07T13:28:56.691-04:00 DEBUG 8187 --- [library-hexagonal] [restartedMain] org.hibernate.SQL                        : 
    create table members (
        id varchar(255) not null,
        email varchar(255),
        name varchar(255),
        primary key (id)
    )
2025-04-07T13:28:56.692-04:00  INFO 8187 --- [library-hexagonal] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-07T13:28:56.769-04:00  WARN 8187 --- [library-hexagonal] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'borrowBookService' defined in file [/Users/glopez/Documents/G/tp/library-hexagonal/target/classes/com/library/application/service/BorrowBookService.class]: Unsatisfied dependency expressed through constructor parameter 2: No qualifying bean of type 'com.library.application.service.BorrowBookService$LoanRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-04-07T13:28:56.769-04:00  INFO 8187 --- [library-hexagonal] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-07T13:28:56.771-04:00  WARN 8187 --- [library-hexagonal] [restartedMain] o.s.b.f.support.DisposableBeanAdapter    : Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: La base de datos ya esta cerrada (para des-habilitar el cerrado automatico durante el shutdown de la VM, agregue ";DB_CLOSE_ON_EXIT=FALSE" a la URL de conexión)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-224]
2025-04-07T13:28:56.771-04:00  INFO 8187 --- [library-hexagonal] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-07T13:28:56.772-04:00  INFO 8187 --- [library-hexagonal] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-07T13:28:56.773-04:00  INFO 8187 --- [library-hexagonal] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-04-07T13:28:56.778-04:00  INFO 8187 --- [library-hexagonal] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-04-07T13:28:56.785-04:00 ERROR 8187 --- [library-hexagonal] [restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 2 of constructor in com.library.application.service.BorrowBookService required a bean of type 'com.library.application.service.BorrowBookService$LoanRepository' that could not be found.


Action:

Consider defining a bean of type 'com.library.application.service.BorrowBookService$LoanRepository' in your configuration.

2025-04-07T13:32:54.936-04:00  INFO 8408 --- [library-hexagonal] [restartedMain] c.library.LibraryHexagonalApplication    : Starting LibraryHexagonalApplication using Java 21.0.5 with PID 8408 (/Users/glopez/Documents/G/tp/library-hexagonal/target/classes started by glopez in /Users/glopez/Documents/G/tp/library-hexagonal)
2025-04-07T13:32:54.937-04:00 DEBUG 8408 --- [library-hexagonal] [restartedMain] c.library.LibraryHexagonalApplication    : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-07T13:32:54.937-04:00  INFO 8408 --- [library-hexagonal] [restartedMain] c.library.LibraryHexagonalApplication    : No active profile set, falling back to 1 default profile: "default"
2025-04-07T13:32:54.951-04:00  INFO 8408 --- [library-hexagonal] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-07T13:32:54.951-04:00  INFO 8408 --- [library-hexagonal] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-07T13:32:55.142-04:00  INFO 8408 --- [library-hexagonal] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-07T13:32:55.159-04:00  INFO 8408 --- [library-hexagonal] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 13 ms. Found 3 JPA repository interfaces.
2025-04-07T13:32:55.468-04:00  INFO 8408 --- [library-hexagonal] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-07T13:32:55.473-04:00  INFO 8408 --- [library-hexagonal] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-07T13:32:55.473-04:00  INFO 8408 --- [library-hexagonal] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-07T13:32:55.488-04:00  INFO 8408 --- [library-hexagonal] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-07T13:32:55.488-04:00  INFO 8408 --- [library-hexagonal] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 536 ms
2025-04-07T13:32:55.543-04:00  INFO 8408 --- [library-hexagonal] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-07T13:32:55.557-04:00  INFO 8408 --- [library-hexagonal] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-04-07T13:32:55.567-04:00  INFO 8408 --- [library-hexagonal] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-07T13:32:55.640-04:00  INFO 8408 --- [library-hexagonal] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-07T13:32:55.648-04:00  INFO 8408 --- [library-hexagonal] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-07T13:32:55.720-04:00  INFO 8408 --- [library-hexagonal] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:librarydb user=SA
2025-04-07T13:32:55.721-04:00  INFO 8408 --- [library-hexagonal] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-07T13:32:55.729-04:00  WARN 8408 --- [library-hexagonal] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-07T13:32:55.736-04:00  INFO 8408 --- [library-hexagonal] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.2.224
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-07T13:32:55.993-04:00  INFO 8408 --- [library-hexagonal] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-07T13:32:56.014-04:00 DEBUG 8408 --- [library-hexagonal] [restartedMain] org.hibernate.SQL                        : 
    create table books (
        isbn varchar(255) not null,
        author varchar(255),
        available_copies integer not null,
        title varchar(255),
        primary key (isbn)
    )
2025-04-07T13:32:56.016-04:00 DEBUG 8408 --- [library-hexagonal] [restartedMain] org.hibernate.SQL                        : 
    create table loans (
        id bigint generated by default as identity,
        book_isbn varchar(255),
        loan_date date,
        member_id varchar(255),
        return_date date,
        primary key (id)
    )
2025-04-07T13:32:56.018-04:00 DEBUG 8408 --- [library-hexagonal] [restartedMain] org.hibernate.SQL                        : 
    create table members (
        id varchar(255) not null,
        email varchar(255),
        name varchar(255),
        primary key (id)
    )
2025-04-07T13:32:56.019-04:00  INFO 8408 --- [library-hexagonal] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-07T13:32:56.096-04:00  WARN 8408 --- [library-hexagonal] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'borrowBookService' defined in file [/Users/glopez/Documents/G/tp/library-hexagonal/target/classes/com/library/application/service/BorrowBookService.class]: Unsatisfied dependency expressed through constructor parameter 2: No qualifying bean of type 'com.library.application.service.BorrowBookService$LoanRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-04-07T13:32:56.096-04:00  INFO 8408 --- [library-hexagonal] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-07T13:32:56.098-04:00  WARN 8408 --- [library-hexagonal] [restartedMain] o.s.b.f.support.DisposableBeanAdapter    : Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: La base de datos ya esta cerrada (para des-habilitar el cerrado automatico durante el shutdown de la VM, agregue ";DB_CLOSE_ON_EXIT=FALSE" a la URL de conexión)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-224]
2025-04-07T13:32:56.098-04:00  INFO 8408 --- [library-hexagonal] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-07T13:32:56.099-04:00  INFO 8408 --- [library-hexagonal] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-07T13:32:56.100-04:00  INFO 8408 --- [library-hexagonal] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-04-07T13:32:56.105-04:00  INFO 8408 --- [library-hexagonal] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-04-07T13:32:56.112-04:00 ERROR 8408 --- [library-hexagonal] [restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 2 of constructor in com.library.application.service.BorrowBookService required a bean of type 'com.library.application.service.BorrowBookService$LoanRepository' that could not be found.


Action:

Consider defining a bean of type 'com.library.application.service.BorrowBookService$LoanRepository' in your configuration.

2025-04-07T13:33:23.952-04:00  INFO 8440 --- [library-hexagonal] [restartedMain] c.library.LibraryHexagonalApplication    : Starting LibraryHexagonalApplication using Java 21.0.5 with PID 8440 (/Users/glopez/Documents/G/tp/library-hexagonal/target/classes started by glopez in /Users/glopez/Documents/G/tp/library-hexagonal)
2025-04-07T13:33:23.953-04:00 DEBUG 8440 --- [library-hexagonal] [restartedMain] c.library.LibraryHexagonalApplication    : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-07T13:33:23.953-04:00  INFO 8440 --- [library-hexagonal] [restartedMain] c.library.LibraryHexagonalApplication    : No active profile set, falling back to 1 default profile: "default"
2025-04-07T13:33:23.967-04:00  INFO 8440 --- [library-hexagonal] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-07T13:33:23.967-04:00  INFO 8440 --- [library-hexagonal] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-07T13:33:24.162-04:00  INFO 8440 --- [library-hexagonal] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-07T13:33:24.180-04:00  INFO 8440 --- [library-hexagonal] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 13 ms. Found 3 JPA repository interfaces.
2025-04-07T13:33:24.483-04:00  INFO 8440 --- [library-hexagonal] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-07T13:33:24.488-04:00  INFO 8440 --- [library-hexagonal] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-07T13:33:24.488-04:00  INFO 8440 --- [library-hexagonal] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-07T13:33:24.503-04:00  INFO 8440 --- [library-hexagonal] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-07T13:33:24.503-04:00  INFO 8440 --- [library-hexagonal] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 536 ms
2025-04-07T13:33:24.555-04:00  INFO 8440 --- [library-hexagonal] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-07T13:33:24.569-04:00  INFO 8440 --- [library-hexagonal] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-04-07T13:33:24.578-04:00  INFO 8440 --- [library-hexagonal] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-07T13:33:24.653-04:00  INFO 8440 --- [library-hexagonal] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-07T13:33:24.662-04:00  INFO 8440 --- [library-hexagonal] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-07T13:33:24.739-04:00  INFO 8440 --- [library-hexagonal] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:librarydb user=SA
2025-04-07T13:33:24.739-04:00  INFO 8440 --- [library-hexagonal] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-07T13:33:24.747-04:00  WARN 8440 --- [library-hexagonal] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-07T13:33:24.755-04:00  INFO 8440 --- [library-hexagonal] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.2.224
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-07T13:33:25.098-04:00  INFO 8440 --- [library-hexagonal] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-07T13:33:25.124-04:00 DEBUG 8440 --- [library-hexagonal] [restartedMain] org.hibernate.SQL                        : 
    create table books (
        isbn varchar(255) not null,
        author varchar(255),
        available_copies integer not null,
        title varchar(255),
        primary key (isbn)
    )
2025-04-07T13:33:25.127-04:00 DEBUG 8440 --- [library-hexagonal] [restartedMain] org.hibernate.SQL                        : 
    create table loans (
        id bigint generated by default as identity,
        book_isbn varchar(255),
        loan_date date,
        member_id varchar(255),
        return_date date,
        primary key (id)
    )
2025-04-07T13:33:25.129-04:00 DEBUG 8440 --- [library-hexagonal] [restartedMain] org.hibernate.SQL                        : 
    create table members (
        id varchar(255) not null,
        email varchar(255),
        name varchar(255),
        primary key (id)
    )
2025-04-07T13:33:25.130-04:00  INFO 8440 --- [library-hexagonal] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-07T13:33:25.222-04:00  WARN 8440 --- [library-hexagonal] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'borrowBookService' defined in file [/Users/glopez/Documents/G/tp/library-hexagonal/target/classes/com/library/application/service/BorrowBookService.class]: Unsatisfied dependency expressed through constructor parameter 2: No qualifying bean of type 'com.library.application.service.BorrowBookService$LoanRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-04-07T13:33:25.223-04:00  INFO 8440 --- [library-hexagonal] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-07T13:33:25.225-04:00  WARN 8440 --- [library-hexagonal] [restartedMain] o.s.b.f.support.DisposableBeanAdapter    : Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: La base de datos ya esta cerrada (para des-habilitar el cerrado automatico durante el shutdown de la VM, agregue ";DB_CLOSE_ON_EXIT=FALSE" a la URL de conexión)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-224]
2025-04-07T13:33:25.225-04:00  INFO 8440 --- [library-hexagonal] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-07T13:33:25.226-04:00  INFO 8440 --- [library-hexagonal] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-07T13:33:25.227-04:00  INFO 8440 --- [library-hexagonal] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-04-07T13:33:25.232-04:00  INFO 8440 --- [library-hexagonal] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-04-07T13:33:25.239-04:00 ERROR 8440 --- [library-hexagonal] [restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 2 of constructor in com.library.application.service.BorrowBookService required a bean of type 'com.library.application.service.BorrowBookService$LoanRepository' that could not be found.


Action:

Consider defining a bean of type 'com.library.application.service.BorrowBookService$LoanRepository' in your configuration.

2025-04-07T13:33:43.383-04:00  INFO 8462 --- [library-hexagonal] [restartedMain] c.library.LibraryHexagonalApplication    : Starting LibraryHexagonalApplication using Java 21.0.5 with PID 8462 (/Users/glopez/Documents/G/tp/library-hexagonal/target/classes started by glopez in /Users/glopez/Documents/G/tp/library-hexagonal)
2025-04-07T13:33:43.384-04:00 DEBUG 8462 --- [library-hexagonal] [restartedMain] c.library.LibraryHexagonalApplication    : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-07T13:33:43.384-04:00  INFO 8462 --- [library-hexagonal] [restartedMain] c.library.LibraryHexagonalApplication    : No active profile set, falling back to 1 default profile: "default"
2025-04-07T13:33:43.398-04:00  INFO 8462 --- [library-hexagonal] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-07T13:33:43.398-04:00  INFO 8462 --- [library-hexagonal] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-07T13:33:43.568-04:00  INFO 8462 --- [library-hexagonal] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-07T13:33:43.582-04:00  INFO 8462 --- [library-hexagonal] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10 ms. Found 3 JPA repository interfaces.
2025-04-07T13:33:43.853-04:00  INFO 8462 --- [library-hexagonal] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-07T13:33:43.858-04:00  INFO 8462 --- [library-hexagonal] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-07T13:33:43.858-04:00  INFO 8462 --- [library-hexagonal] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-07T13:33:43.871-04:00  INFO 8462 --- [library-hexagonal] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-07T13:33:43.871-04:00  INFO 8462 --- [library-hexagonal] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 473 ms
2025-04-07T13:33:43.921-04:00  INFO 8462 --- [library-hexagonal] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-07T13:33:43.934-04:00  INFO 8462 --- [library-hexagonal] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-04-07T13:33:43.943-04:00  INFO 8462 --- [library-hexagonal] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-07T13:33:44.013-04:00  INFO 8462 --- [library-hexagonal] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-07T13:33:44.022-04:00  INFO 8462 --- [library-hexagonal] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-07T13:33:44.089-04:00  INFO 8462 --- [library-hexagonal] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:librarydb user=SA
2025-04-07T13:33:44.090-04:00  INFO 8462 --- [library-hexagonal] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-07T13:33:44.098-04:00  WARN 8462 --- [library-hexagonal] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-07T13:33:44.109-04:00  INFO 8462 --- [library-hexagonal] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.2.224
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-07T13:33:44.428-04:00  INFO 8462 --- [library-hexagonal] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-07T13:33:44.448-04:00 DEBUG 8462 --- [library-hexagonal] [restartedMain] org.hibernate.SQL                        : 
    create table books (
        isbn varchar(255) not null,
        author varchar(255),
        available_copies integer not null,
        title varchar(255),
        primary key (isbn)
    )
2025-04-07T13:33:44.451-04:00 DEBUG 8462 --- [library-hexagonal] [restartedMain] org.hibernate.SQL                        : 
    create table loans (
        id bigint generated by default as identity,
        book_isbn varchar(255),
        loan_date date,
        member_id varchar(255),
        return_date date,
        primary key (id)
    )
2025-04-07T13:33:44.452-04:00 DEBUG 8462 --- [library-hexagonal] [restartedMain] org.hibernate.SQL                        : 
    create table members (
        id varchar(255) not null,
        email varchar(255),
        name varchar(255),
        primary key (id)
    )
2025-04-07T13:33:44.453-04:00  INFO 8462 --- [library-hexagonal] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-07T13:33:44.724-04:00  INFO 8462 --- [library-hexagonal] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:librarydb'
2025-04-07T13:33:44.745-04:00  INFO 8462 --- [library-hexagonal] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-04-07T13:33:44.763-04:00  INFO 8462 --- [library-hexagonal] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-04-07T13:33:44.768-04:00  INFO 8462 --- [library-hexagonal] [restartedMain] c.library.LibraryHexagonalApplication    : Started LibraryHexagonalApplication in 1.52 seconds (process running for 1.742)
2025-04-07T13:33:57.299-04:00  INFO 8462 --- [library-hexagonal] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-07T13:33:57.303-04:00  INFO 8462 --- [library-hexagonal] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-07T13:33:57.305-04:00  INFO 8462 --- [library-hexagonal] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-07T13:33:57.308-04:00  WARN 8462 --- [library-hexagonal] [SpringApplicationShutdownHook] o.s.b.f.support.DisposableBeanAdapter    : Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: La base de datos ya esta cerrada (para des-habilitar el cerrado automatico durante el shutdown de la VM, agregue ";DB_CLOSE_ON_EXIT=FALSE" a la URL de conexión)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-224]
2025-04-07T13:33:57.308-04:00  INFO 8462 --- [library-hexagonal] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-07T13:33:57.309-04:00  INFO 8462 --- [library-hexagonal] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-07T14:00:01.419-04:00  INFO 9710 --- [library-hexagonal] [restartedMain] c.library.LibraryHexagonalApplication    : Starting LibraryHexagonalApplication using Java 21.0.5 with PID 9710 (/Users/glopez/Documents/G/tp/library-hexagonal/target/classes started by glopez in /Users/glopez/Documents/G/tp/library-hexagonal)
2025-04-07T14:00:01.419-04:00 DEBUG 9710 --- [library-hexagonal] [restartedMain] c.library.LibraryHexagonalApplication    : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-07T14:00:01.420-04:00  INFO 9710 --- [library-hexagonal] [restartedMain] c.library.LibraryHexagonalApplication    : No active profile set, falling back to 1 default profile: "default"
2025-04-07T14:00:01.433-04:00  INFO 9710 --- [library-hexagonal] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-07T14:00:01.433-04:00  INFO 9710 --- [library-hexagonal] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-07T14:00:01.615-04:00  INFO 9710 --- [library-hexagonal] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-07T14:00:01.631-04:00  INFO 9710 --- [library-hexagonal] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 12 ms. Found 3 JPA repository interfaces.
2025-04-07T14:00:01.930-04:00  INFO 9710 --- [library-hexagonal] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-07T14:00:01.935-04:00  INFO 9710 --- [library-hexagonal] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-07T14:00:01.935-04:00  INFO 9710 --- [library-hexagonal] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-07T14:00:01.949-04:00  INFO 9710 --- [library-hexagonal] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-07T14:00:01.949-04:00  INFO 9710 --- [library-hexagonal] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 516 ms
2025-04-07T14:00:02.001-04:00  INFO 9710 --- [library-hexagonal] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-07T14:00:02.014-04:00  INFO 9710 --- [library-hexagonal] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-04-07T14:00:02.022-04:00  INFO 9710 --- [library-hexagonal] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-07T14:00:02.096-04:00  INFO 9710 --- [library-hexagonal] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-07T14:00:02.105-04:00  INFO 9710 --- [library-hexagonal] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-07T14:00:02.189-04:00  INFO 9710 --- [library-hexagonal] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:librarydb user=SA
2025-04-07T14:00:02.190-04:00  INFO 9710 --- [library-hexagonal] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-07T14:00:02.201-04:00  WARN 9710 --- [library-hexagonal] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-07T14:00:02.208-04:00  INFO 9710 --- [library-hexagonal] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.2.224
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-07T14:00:02.467-04:00  INFO 9710 --- [library-hexagonal] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-07T14:00:02.488-04:00 DEBUG 9710 --- [library-hexagonal] [restartedMain] org.hibernate.SQL                        : 
    create table books (
        isbn varchar(255) not null,
        author varchar(255),
        available_copies integer not null,
        title varchar(255),
        primary key (isbn)
    )
2025-04-07T14:00:02.491-04:00 DEBUG 9710 --- [library-hexagonal] [restartedMain] org.hibernate.SQL                        : 
    create table loans (
        id bigint generated by default as identity,
        book_isbn varchar(255),
        loan_date date,
        member_id varchar(255),
        return_date date,
        primary key (id)
    )
2025-04-07T14:00:02.492-04:00 DEBUG 9710 --- [library-hexagonal] [restartedMain] org.hibernate.SQL                        : 
    create table members (
        id varchar(255) not null,
        email varchar(255),
        name varchar(255),
        primary key (id)
    )
2025-04-07T14:00:02.494-04:00  INFO 9710 --- [library-hexagonal] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-07T14:00:02.752-04:00  INFO 9710 --- [library-hexagonal] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:librarydb'
2025-04-07T14:00:02.773-04:00  INFO 9710 --- [library-hexagonal] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-04-07T14:00:02.790-04:00  INFO 9710 --- [library-hexagonal] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-04-07T14:00:02.794-04:00  INFO 9710 --- [library-hexagonal] [restartedMain] c.library.LibraryHexagonalApplication    : Started LibraryHexagonalApplication in 1.512 seconds (process running for 1.768)
2025-04-07T14:03:30.385-04:00  INFO 9710 --- [library-hexagonal] [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-07T14:03:30.432-04:00  WARN 9710 --- [library-hexagonal] [http-nio-8080-exec-2] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot construct instance of `com.library.domain.valueobject.ISBN` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value ('1234567890')]
2025-04-07T14:05:33.199-04:00  INFO 9710 --- [library-hexagonal] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-07T14:05:33.204-04:00  INFO 9710 --- [library-hexagonal] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-07T14:05:33.207-04:00  INFO 9710 --- [library-hexagonal] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-07T14:05:33.215-04:00  WARN 9710 --- [library-hexagonal] [SpringApplicationShutdownHook] o.s.b.f.support.DisposableBeanAdapter    : Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: La base de datos ya esta cerrada (para des-habilitar el cerrado automatico durante el shutdown de la VM, agregue ";DB_CLOSE_ON_EXIT=FALSE" a la URL de conexión)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-224]
2025-04-07T14:05:33.216-04:00  INFO 9710 --- [library-hexagonal] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-07T14:05:33.217-04:00  INFO 9710 --- [library-hexagonal] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
